<!DOCTYPE html PUBLIC '-//W3C//DTD XHTML 1.0 Strict//EN' 'http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd'>
<html xmlns='http://www.w3.org/1999/xhtml' xmlns:v="urn:schemas-microsoft-com:vml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Przykład</title>
    <script src='http://maps.google.com/maps?file=api&amp;v=2.x&amp;sensor=false&amp;key=ABQIAAAAskA3kyDm631CGf6Rw_GrbBRBRXpdM9jp6G1MF9yLMfWuIYZt2BR5Ltrn1m4MP2hliyyWcC1AqLxZ3A&hl=pl' type='text/javascript'></script>
    <style type="text/css">
        #map {
            width: 400px;
            height: 400px;
            border: 1px solid #000000;
            float: left;
        }

        #tips {
            width: 400px;
            height: 400px;
            border: 1px solid #000000;
            float: left;
            overflow-y: scroll;
        }

        #fromCity {
            color: green;
            font-weight: bold;
        }

        .clearfix:before {
            content: " "; /* Older browser do not support empty content */
            visibility: hidden;
            display: block;
            height: 0;
            clear: both;
        }
    </style>
</head>

<body>
    <input id="city" type="text" placeholder="Miasto">
    <button id="find-route">Wyznacz</button><br>
    <div id="map" style="width: 400px; height: 400px;"></div>
    <div id="tips" class="clearfix"></div>
    <p class="clearfix">Ta aplikacja pokazuje wskazówki dojazdu ze <span id="fromCity">[wpisz miasto i naciśnij "Wyznacz"]</span> do Poznań oraz wyświetla trasę na mapie.</p>

    <p class="clearfix">Stworzono na podstawie: <a href="http://gmapsapi.com/poradnik/052_znajdowanie_trasy_i_wskazowek_dojazdu.html?tag=geokodowanie">gmapsapi</a></p>
    <script type='text/javascript'>
        function mapaStart()
        {
            if(GBrowserIsCompatible())
            {
                var mapa = new GMap2(document.getElementById('map'));
                mapa.addControl(new GLargeMapControl());
                mapa.setCenter(new GLatLng(52.40241887397331,17.9736328125),6,G_HYBRID_MAP);

                var dojazd = new GDirections(mapa, document.getElementById("tips"));

                function findRoute() {
                    var cityName = document.getElementById('city').value;
                    document.getElementById('fromCity').innerHTML = cityName;
                    dojazd.load('from:'+cityName+' to:Poznań');
                }

                document.getElementById('find-route').addEventListener('click', findRoute, false);
            }
        }

        mapaStart();
    </script>
</body>
</html>